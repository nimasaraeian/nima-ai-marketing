{"openapi":"3.1.0","info":{"title":"Nima AI Brain API","version":"1.0.0"},"paths":{"/api/artifacts/{filename}":{"get":{"summary":"Serve Artifact","description":"Serve artifact files directly (works better than StaticFiles mount in Railway).","operationId":"serve_artifact_api_artifacts__filename__get","parameters":[{"name":"filename","in":"path","required":true,"schema":{"type":"string","title":"Filename"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/dataset/upload-image":{"post":{"tags":["dataset"],"summary":"Upload Labeled Image","description":"Upload a labeled image into the internal visual dataset.\n\n- Accepts multipart/form-data.\n- Validates trust_label against allowed values.\n- Saves the file to dataset/images/<label_folder>/ with a timestamped filename.\n- Appends a row to dataset/labels.csv.","operationId":"upload_labeled_image_api_dataset_upload_image_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_labeled_image_api_dataset_upload_image_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/analyze/image-trust/":{"get":{"tags":["image-trust"],"summary":"Image Trust Root","description":"Root endpoint for image trust service.","operationId":"image_trust_root_api_analyze_image_trust__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}},"post":{"tags":["image-trust"],"summary":"Analyze Image","description":"Main endpoint used by UI and /analyze-url pipeline.\n\nIMPORTANT:\nThis endpoint now uses the stable local pipeline (analyze_visual_trust_local)\nto avoid legacy unpack/model-output errors.","operationId":"analyze_image_api_analyze_image_trust__post","parameters":[{"name":"debug","in":"query","required":false,"schema":{"type":"boolean","description":"(Reserved) kept for compatibility.","default":false,"title":"Debug"},"description":"(Reserved) kept for compatibility."}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_analyze_image_api_analyze_image_trust__post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Analyze Image Api Analyze Image Trust  Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/analyze/image-trust/health":{"get":{"tags":["image-trust"],"summary":"Image Trust Health","description":"Health check endpoint.","operationId":"image_trust_health_api_analyze_image_trust_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/analyze/image-trust":{"post":{"tags":["image-trust"],"summary":"Analyze Image","description":"Main endpoint used by UI and /analyze-url pipeline.\n\nIMPORTANT:\nThis endpoint now uses the stable local pipeline (analyze_visual_trust_local)\nto avoid legacy unpack/model-output errors.","operationId":"analyze_image_api_analyze_image_trust_post","parameters":[{"name":"debug","in":"query","required":false,"schema":{"type":"boolean","description":"(Reserved) kept for compatibility.","default":false,"title":"Debug"},"description":"(Reserved) kept for compatibility."}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_analyze_image_api_analyze_image_trust_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Analyze Image Api Analyze Image Trust Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/analyze/image-trust/vision/":{"post":{"tags":["image-trust"],"summary":"Analyze Image Trust Vision","description":"Optional: OpenAI Vision API analysis (kept as separate endpoint).\nDoes NOT affect the stability of /api/analyze/image-trust.","operationId":"analyze_image_trust_vision_api_analyze_image_trust_vision__post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_analyze_image_trust_vision_api_analyze_image_trust_vision__post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VisualTrustResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/analyze/image-trust/vision":{"post":{"tags":["image-trust"],"summary":"Analyze Image Trust Vision","description":"Optional: OpenAI Vision API analysis (kept as separate endpoint).\nDoes NOT affect the stability of /api/analyze/image-trust.","operationId":"analyze_image_trust_vision_api_analyze_image_trust_vision_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_analyze_image_trust_vision_api_analyze_image_trust_vision_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VisualTrustResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/analyze/image-trust-local":{"post":{"tags":["image-trust-local"],"summary":"Image Trust Local","description":"Image trust analysis using OpenCV + local extractor (no TensorFlow).","operationId":"image_trust_local_api_analyze_image_trust_local_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_image_trust_local_api_analyze_image_trust_local_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/training/landing-friction/build-dataset":{"post":{"summary":"Build Landing Friction Dataset Endpoint","description":"Build the merged landing friction dataset.","operationId":"build_landing_friction_dataset_endpoint_api_training_landing_friction_build_dataset_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Build Landing Friction Dataset Endpoint Api Training Landing Friction Build Dataset Post"}}}}}}},"/api/training/landing-friction/prepare-finetune":{"post":{"summary":"Prepare Landing Friction Finetune Endpoint","description":"Prepare fine-tune JSONL file, optionally rebuilding the dataset first.","operationId":"prepare_landing_friction_finetune_endpoint_api_training_landing_friction_prepare_finetune_post","parameters":[{"name":"force_rebuild","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Force Rebuild"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Prepare Landing Friction Finetune Endpoint Api Training Landing Friction Prepare Finetune Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/training/landing-friction/start-finetune":{"post":{"summary":"Start Landing Friction Finetune Endpoint","description":"Start a fine-tuning job on OpenAI using the prepared dataset.","operationId":"start_landing_friction_finetune_endpoint_api_training_landing_friction_start_finetune_post","parameters":[{"name":"base_model","in":"query","required":false,"schema":{"type":"string","default":"gpt-4.1-mini","title":"Base Model"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Start Landing Friction Finetune Endpoint Api Training Landing Friction Start Finetune Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/training/landing-friction/last-job":{"get":{"summary":"Get Last Finetune Job","description":"Return metadata about the last fine-tune job if available.","operationId":"get_last_finetune_job_api_training_landing_friction_last_job_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Last Finetune Job Api Training Landing Friction Last Job Get"}}}}}}},"/api/training/landing-friction/model":{"get":{"summary":"Get Finetuned Model","description":"Return the current fine-tuned model id if available.","operationId":"get_finetuned_model_api_training_landing_friction_model_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Finetuned Model Api Training Landing Friction Model Get"}}}}}}},"/analyze-url":{"post":{"summary":"Analyze Url","description":"Analyze a URL and return decision diagnosis.\n\nWorks locally out-of-the-box without requiring MAIN_BRAIN_BACKEND_URL.\nIn production, requires MAIN_BRAIN_BACKEND_URL or BRAIN_BACKEND_URL to be set.\n\nIf explain=true, the diagnosis will be automatically converted to human-readable\nexplanation using OpenAI (without modifying the diagnosis).","operationId":"analyze_url_analyze_url_post","parameters":[{"name":"refresh","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Refresh"}},{"name":"explain","in":"query","required":false,"schema":{"type":"boolean","description":"Convert diagnosis to human-readable explanation using AI","default":false,"title":"Explain"},"description":"Convert diagnosis to human-readable explanation using AI"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UrlAnalyzeIn"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/analyze/url-signals":{"post":{"summary":"Analyze Url Signals","description":"Analyze a URL and return Phase 1 signal detection (JSON only, no human report).\n\nThis endpoint:\n- Captures page artifacts (screenshots, DOM)\n- Extracts features (visual, text, meta)\n- Runs visual trust analysis\n- Builds signal report v1 (CTA, trust, clarity signals)\n- Returns JSON only (no verdict, quick wins, or suggested rewrites)","operationId":"analyze_url_signals_api_analyze_url_signals_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UrlAnalyzeIn"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/analyze/url-decision":{"post":{"summary":"Analyze Url Decision","description":"Analyze a URL and return Phase 2 decision logic (blockers, scores, decision probability).\n\nThis endpoint:\n- Captures page artifacts (screenshots, DOM)\n- Extracts features (visual, text, meta)\n- Runs visual trust analysis\n- Builds signal report v1 (Phase 1)\n- Builds decision logic v1 (Phase 2) with blockers and scores\n- Returns JSON with decision probability and transparent weights/inputs","operationId":"analyze_url_decision_api_analyze_url_decision_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UrlAnalyzeIn"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/analyze/url-human/test":{"get":{"summary":"Test Endpoint","description":"Test endpoint to verify route is working.","operationId":"test_endpoint_api_analyze_url_human_test_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/analyze/url-human/simple":{"post":{"summary":"Analyze Url Human Simple","description":"Simple test version without Playwright.","operationId":"analyze_url_human_simple_api_analyze_url_human_simple_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AnalyzeUrlHumanRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Analyze Url Human Simple Api Analyze Url Human Simple Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/analyze/url-human/test-capture":{"post":{"summary":"Test Capture Only","description":"Test only the capture step.","operationId":"test_capture_only_api_analyze_url_human_test_capture_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AnalyzeUrlHumanRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Test Capture Only Api Analyze Url Human Test Capture Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/analyze/url-human":{"post":{"summary":"Analyze Url Human","description":"Analyze a URL and generate a human-readable report.\n\nDEPRECATED: This endpoint now internally calls the unified /api/analyze/human endpoint.\nFor new integrations, use /api/analyze/human directly.\n\nProcess:\n1. Capture page with Playwright (screenshots + DOM)\n2. Extract structured data (H1/H2, CTAs, trust signals)\n3. Run heuristics to find issues and quick wins\n4. Generate human-readable report via OpenAI\n\nArgs:\n    payload: Request with URL, goal, and locale\n    \nReturns:\n    Dictionary with analysis status, JSON, and human report","operationId":"analyze_url_human_api_analyze_url_human_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AnalyzeUrlHumanRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/analyze/url-human/regression-test":{"post":{"summary":"Regression Test Endpoint","description":"Regression test endpoint (local only) that tests 3 URLs and reports:\n- page_type\n- top_issues IDs\n- forbidden suggestions count\n\nURLs tested:\n- https://nekrasgroup.com/\n- https://www.digikala.com/\n- https://stripe.com/pricing","operationId":"regression_test_endpoint_api_analyze_url_human_regression_test_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Regression Test Endpoint Api Analyze Url Human Regression Test Post"}}}}}}},"/api/analyze/human":{"post":{"summary":"Analyze Human","description":"Unified analysis endpoint for URL, IMAGE, or TEXT.\n\nAccepts both multipart/form-data and application/json with exactly one of:\n- url: URL string\n- text: Text content\n- image: Image file (multipart) or image_base64 (JSON)\n\nArgs (multipart/form-data):\n    goal: Analysis goal (leads, sales, booking, etc.) - default: \"leads\"\n    locale: Locale (always forced to \"en\")\n    url: Optional URL string\n    text: Optional text content\n    image: Optional image file\n    \nArgs (application/json):\n    {\n        \"url\": \"optional URL string\",\n        \"text\": \"optional text content\",\n        \"image_base64\": \"optional base64-encoded image\",\n        \"goal\": \"leads|sales|booking|contact|subscribe|other\",\n        \"locale\": \"en (always forced to en)\"\n    }\n    \nReturns:\n    Response with status, mode, page_map, summary, human_report, issues_count, screenshots","operationId":"analyze_human_api_analyze_human_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Analyze Human Api Analyze Human Post"}}}}}}},"/api/analyze/image-human":{"post":{"summary":"Analyze Image Human","description":"Analyze image and generate decision report.\n\nArgs:\n    image: Image file (PNG, JPG, etc.)\n    goal: Analysis goal (leads, sales, etc.)\n    \nReturns:\n    Decision report with human_report, summary, findings, etc.","operationId":"analyze_image_human_api_analyze_image_human_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_analyze_image_human_api_analyze_image_human_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Analyze Image Human Api Analyze Image Human Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/analyze/text-human":{"post":{"summary":"Analyze Text Human","description":"Analyze text and generate decision report.\n\nArgs:\n    text: Text content to analyze\n    goal: Analysis goal (leads, sales, etc.)\n    \nReturns:\n    Decision report with human_report, summary, findings, etc.","operationId":"analyze_text_human_api_analyze_text_human_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_analyze_text_human_api_analyze_text_human_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Analyze Text Human Api Analyze Text Human Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/debug/screenshot":{"post":{"summary":"Debug Screenshot","operationId":"debug_screenshot_debug_screenshot_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DebugScreenshotIn"}}},"required":true},"responses":{"200":{"description":"PNG screenshot","content":{"application/json":{"schema":{}},"image/png":{}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/brain/analyze-features":{"post":{"tags":["brain-features"],"summary":"Analyze Features Endpoint","operationId":"analyze_features_endpoint_api_brain_analyze_features_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageFeatures"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/brain/feedback":{"post":{"tags":["brain-memory"],"summary":"Submit Feedback","description":"Store user feedback for a specific analysis.\n\nBody:\n{\n  \"analysis_id\": 123,\n  \"label\": \"accurate\" | \"partial\" | \"wrong\",\n  \"notes\": \"...\",\n  \"wrong_issues\": [\"missing_primary_cta\", \"h1_clarity\"]\n}","operationId":"submit_feedback_api_brain_feedback_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FeedbackRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Submit Feedback Api Brain Feedback Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/brain/calibrate":{"post":{"tags":["brain-memory"],"summary":"Calibrate","description":"Run daily calibration job (can be called manually).\n\nFor each (page_type, issue_id):\n  suggested_count = count where issue_id appears in analyses.top_issues\n  accurate_count  = count feedback.label == accurate (partial counts as 0.5)\n  wrong_count     = count feedback.label == wrong OR wrong_issues contains issue_id\n\nweight = clamp(0.2, 1.8, 1.0 + 0.6*(accurate_count - wrong_count)/max(1, suggested_count))","operationId":"calibrate_api_brain_calibrate_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Calibrate Api Brain Calibrate Post"}}}}}}},"/explain":{"post":{"tags":["Explanation"],"summary":"Explain Endpoint","description":"Generate OpenAI-powered explanation of a decision diagnosis.\n\nTakes a diagnosis response (from /analyze-url or similar) and generates\nclient-ready explanations without modifying the diagnosis.\n\n- **diagnosis**: The diagnosis response object (or subset)\n- **audience**: Target audience (ceo, marketer, ux) - default: marketer\n- **language**: Output language (en, fa) - default: en\n\nReturns structured explanation with summary, why users hesitate,\ntop actions, risk reversal copy, and disclaimer.","operationId":"explain_endpoint_explain_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExplainRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExplainResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/brain/decision-engine":{"post":{"tags":["Decision Engine"],"summary":"Decision Engine Endpoint","description":"Decision Engine v1 - Product Critical Module\n\nDiagnoses ONE decision failure and outputs ONE concrete fix.\nNo dashboards, no extra analytics, no multiple insights.\n\nThis endpoint:\n- Identifies exactly ONE primary decision blocker\n- Returns exactly ONE actionable fix\n- Validates output strictly (rejects invalid responses)","operationId":"decision_engine_endpoint_api_brain_decision_engine_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DecisionEngineInput"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/brain/decision-engine/report":{"post":{"tags":["Decision Engine"],"summary":"Decision Engine Report Endpoint","description":"Decision Engine v1 - Client-Ready Report Format\n\nReturns a formatted, client-ready decision report with 7 structured sections:\n1. Executive Decision Summary\n2. Context Snapshot\n3. Decision Failure Breakdown\n4. What To Fix First\n5. Actionable Recommendations\n6. What This Will Improve\n7. Next Diagnostic Step\n\nThis endpoint provides the same analysis as /decision-engine but formats it\nas a professional diagnostic report suitable for direct client delivery.","operationId":"decision_engine_report_endpoint_api_brain_decision_engine_report_post","parameters":[{"name":"format","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Output format: 'markdown' or 'json'","default":"markdown","title":"Format"},"description":"Output format: 'markdown' or 'json'"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DecisionEngineInput"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/brain/decision-engine/report-from-url":{"post":{"tags":["Decision Engine"],"summary":"Decision Engine Report From Url","description":"Generate decision engine report from URL.\n\nAutomatically:\n1. Fetches HTML from URL\n2. Extracts content (title, meta, headings, body text)\n3. Captures screenshot\n4. Runs visual trust analysis\n5. Generates decision report\n\nReturns report with analysisStatus, url, contentPreview, visualTrust, and decisionReport.","operationId":"decision_engine_report_from_url_api_brain_decision_engine_report_from_url_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReportFromUrlInput"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/brain/evidence/extract":{"post":{"tags":["Evidence"],"summary":"Extract Evidence","description":"Extract decision signals from multiple evidence sources.\n\nReturns merged signals and confidence score.","operationId":"extract_evidence_api_brain_evidence_extract_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EvidenceExtractionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Extract Evidence Api Brain Evidence Extract Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/brain/evidence/health":{"get":{"tags":["Evidence"],"summary":"Evidence Health","description":"Health check for evidence extraction module","operationId":"evidence_health_api_brain_evidence_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Evidence Health Api Brain Evidence Health Get"}}}}}}},"/api/proxy/decision-scan":{"post":{"tags":["Decision Scan"],"summary":"Proxy Decision Scan","description":"Decision Scan Endpoint (proxy alias for Next.js compatibility)","operationId":"proxy_decision_scan_api_proxy_decision_scan_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DecisionScanResponse"}}}}}}},"/api/proxy/health":{"get":{"tags":["Proxy"],"summary":"Proxy Health","description":"Health check for proxy endpoints","operationId":"proxy_health_api_proxy_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Proxy Health Api Proxy Health Get"}}}}}}},"/api/decision-scan":{"post":{"tags":["Decision Scan"],"summary":"Decision Scan","description":"Decision Scan Endpoint (primary route)","operationId":"decision_scan_api_decision_scan_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DecisionScanResponse"}}}}}}},"/api/decision-scan/health":{"get":{"tags":["Decision Scan"],"summary":"Decision Scan Health","description":"Health check for decision scan endpoint","operationId":"decision_scan_health_api_decision_scan_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/":{"get":{"summary":"Root","description":"Root endpoint - fast response for health checks","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/brain/test":{"post":{"summary":"Brain Test","description":"Temporary test endpoint for debugging image upload.\nThis endpoint helps verify that images are being received correctly.","operationId":"brain_test_api_brain_test_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_brain_test_api_brain_test_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/brain":{"post":{"summary":"Brain Endpoint","description":"Brain endpoint for marketing strategy queries.\nAccepts both JSON and multipart/form-data:\n\nJSON format:\n- {\"query\": \"text\", \"role\": \"...\", \"city\": \"...\", \"industry\": \"...\", \"channel\": \"...\"}\n\nMultipart format:\n- content (optional): Text content to analyze\n- image (optional): Image file for visual analysis\n\nAt least one of content or image must be provided.","operationId":"brain_endpoint_api_brain_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_brain_endpoint_api_brain_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/chat":{"post":{"summary":"Chat","description":"Chat endpoint using AI brain system prompt.\n\nThe system prompt is automatically loaded from:\n- ai_brain/core_brain.md\n- ai_brain/memory_nima.md\n- ai_brain/NIMA_MARKETING_BRAIN.md\n- ai_brain/memory_domain.md\n- ai_brain/memory_actions.md\n- ai_brain/action_engine.md\n- ai_brain/quality_engine.md","operationId":"chat_chat_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health":{"get":{"summary":"Health","description":"Health check endpoint for deployment monitoring.\n\nMUST respond quickly (< 2 seconds) and never fail.\nRailway uses this to verify the service is running.\n\nReturns:\n    Simple JSON response with status","operationId":"health_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/_build":{"get":{"summary":"Build Info","description":"Debug endpoint to verify which app module is running.\n\nReturns:\n    Build information including module name, timestamp, and git SHA","operationId":"build_info_api__build_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/_health/artifacts":{"get":{"summary":"Artifacts Health","description":"Health check endpoint for artifacts directory.","operationId":"artifacts_health_api__health_artifacts_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/_health/debug_shots":{"get":{"summary":"Debug Shots Health","description":"Health check endpoint for debug_shots directory.","operationId":"debug_shots_health_api__health_debug_shots_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/_version":{"get":{"summary":"Version","description":"Version endpoint to confirm deploy and directory paths.","operationId":"version_api__version_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/_debug/artifacts/list":{"get":{"summary":"List Artifacts","description":"Debug endpoint to list all files in artifacts directory.","operationId":"list_artifacts_api__debug_artifacts_list_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/_debug/artifacts/ls":{"get":{"summary":"Debug Artifacts Ls","description":"Debug endpoint to list artifacts files.","operationId":"debug_artifacts_ls_api__debug_artifacts_ls_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/_debug/artifacts/exists":{"get":{"summary":"Debug Artifacts Exists","description":"Debug endpoint to check if a specific artifact file exists.","operationId":"debug_artifacts_exists_api__debug_artifacts_exists_get","parameters":[{"name":"name","in":"query","required":true,"schema":{"type":"string","title":"Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/_test/english-only":{"get":{"summary":"Test English Only","description":"Test endpoint to verify English-only output enforcement.\n\nReturns a sample report and validates it contains no Persian characters.\nThis test MUST fail if any non-English characters are present.","operationId":"test_english_only_api__test_english_only_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/debug/env":{"get":{"summary":"Debug Env","description":"Debug endpoint to show environment configuration (local dev only).\n\nReturns 404 in production for security.","operationId":"debug_env_debug_env_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/packages":{"get":{"summary":"Get Packages","description":"Get all pricing packages for Decision Brain services.\n\nReturns the 3-tier package structure:\n- Decision Diagnosis (Entry)\n- Decision Deep Dive (High-Value Project)\n- Decision Strategy Partnership (Advisory)","operationId":"get_packages_api_packages_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/system-prompt/info":{"get":{"summary":"System Prompt Info","description":"Get information about loaded system prompt","operationId":"system_prompt_info_api_system_prompt_info_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/brain/cognitive-friction":{"post":{"summary":"Cognitive Friction Endpoint","description":"Cognitive Friction & Decision Psychology Analysis Endpoint\n\nAnalyzes content for cognitive friction, trust, emotional clarity, \nmotivation alignment, and decision probability.\n\nSupports both JSON and multipart/form-data:\n- JSON: Send CognitiveFrictionInput as JSON body\n- Multipart: Send form fields + optional image file\n\nThis endpoint uses a specialized AI brain that focuses on:\n- Decision psychology\n- Cognitive friction detection\n- Emotional resistance analysis\n- Trust breakpoint identification\n- Motivation alignment scoring\n- Conversion lift prediction\n\nReturns structured scores and actionable recommendations.\n\nLocation: api/main.py (endpoint definition)\nEngine: api/cognitive_friction_engine.py (analysis logic)\nSystem Prompt: Defined in cognitive_friction_engine.py","operationId":"cognitive_friction_endpoint_api_brain_cognitive_friction_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_cognitive_friction_endpoint_api_brain_cognitive_friction_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CognitiveFrictionResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/brain/image-trust":{"post":{"summary":"Image Trust Endpoint","description":"Lightweight endpoint that evaluates only the visual trust block.\nAlways returns HTTP 200 with an explicit error field instead of raising 500.","operationId":"image_trust_endpoint_api_brain_image_trust_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CognitiveFrictionInput"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/brain/rewrite":{"post":{"summary":"Rewrite Endpoint","description":"AI Copy Rewrite Endpoint\n\nTakes raw marketing text plus context (platform, goal, audience, language)\nand returns 5 rewritten versions + a CTA suggestion.","operationId":"rewrite_endpoint_api_brain_rewrite_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RewriteInput"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RewriteOutput"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/brain/psychology-analysis":{"post":{"summary":"Psychology Analysis Endpoint","description":"CORE PSYCHOLOGY ENGINE - 13-Pillar Analysis Endpoint\n\nAnalyzes any text using 13 fundamental psychological pillars:\n\n1. Cognitive Friction - Mental effort required to process\n2. Emotional Resonance - Emotional alignment with user's feeling state\n3. Trust & Clarity - Trustworthiness and transparency\n4. Decision Simplicity - Ease of choosing next step\n5. Motivation Profile - Alignment with SDT (Autonomy, Competence, Relatedness)\n6. Behavioral Biases - Cognitive bias detection and usage\n7. Personality Fit - Alignment with personality-driven preferences\n8. Value Perception - Value communication (functional, emotional, symbolic, etc.)\n9. Attention Architecture - Structure for capturing and holding attention\n10. Narrative Clarity - Story flow and structure\n11. Emotional Safety - Psychological safety and comfort\n12. Actionability - Ability to generate immediate action\n13. Identity Alignment - Fit with user's self-identity\n\nReturns:\n- Structured JSON with all 13 pillar analyses (scores, signals, issues, rewrites)\n- Human-readable psychology report\n- Overall summary with global score, top problems, top strengths, recommendations\n\nThis endpoint NEVER skips any pillar and always provides:\n- Scores (0-100) for each pillar\n- Explanations and justifications\n- Improved rewrites for each pillar\n- Actionable recommendations\n\nLocation: api/main.py (endpoint definition)\nEngine: api/psychology_engine.py (analysis logic)\nSystem Prompt: Defined in psychology_engine.py","operationId":"psychology_analysis_endpoint_api_brain_psychology_analysis_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PsychologyAnalysisInput"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PsychologyAnalysisResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/brain/psychology-analysis-with-image":{"post":{"summary":"Psychology Analysis With Image","description":"Extended psychology analysis endpoint that also accepts an optional image.\n\nFlow:\n1) Run the existing 13-pillar psychology analysis on the provided text.\n2) If an image is provided, run visual trust analysis using the trained model.\n3) Merge visual trust insights into the final JSON response under:\n\n    - visual_trust\n    - visual_layer\n\nSupports visual-only mode: if only image is provided (no text), analysis focuses on visual design.","operationId":"psychology_analysis_with_image_api_brain_psychology_analysis_with_image_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_psychology_analysis_with_image_api_brain_psychology_analysis_with_image_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/brain/analyze-with-image":{"post":{"summary":"Analyze With Image","description":"Convenience alias for /api/brain/psychology-analysis-with-image.\nKeeps the text-only endpoint intact while adding text+image support.","operationId":"analyze_with_image_api_brain_analyze_with_image_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_analyze_with_image_api_brain_analyze_with_image_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"AIRecommendationItem":{"properties":{"element":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Element","description":"Target element for the change."},"change":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Change","description":"What should be changed or rewritten."},"psychological_effect":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Psychological Effect","description":"Intended psychological impact of the change."},"impact":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Impact","description":"Optional impact label (+Trust, -Friction, ...)."},"priority":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Priority","description":"Optional priority e.g. quick_win, deep_change."}},"type":"object","title":"AIRecommendationItem","description":"Actionable AI recommendation linked to a specific element."},"AdEvidenceInput":{"properties":{"ad_copy":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ad Copy","description":"Ad copy text"},"ad_headline":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ad Headline","description":"Ad headline"},"ad_description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ad Description","description":"Ad description"},"image_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image Url","description":"Ad image URL"},"image_bytes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image Bytes","description":"Ad image as base64 string"}},"type":"object","title":"AdEvidenceInput","description":"Input for ad evidence extraction"},"AdvancedPsychologicalView":{"properties":{"personality_activation":{"$ref":"#/components/schemas/api__psychology_engine__PersonalityActivation"},"cognitive_style":{"$ref":"#/components/schemas/api__psychology_engine__CognitiveStyle"},"emotional_response":{"$ref":"#/components/schemas/api__psychology_engine__EmotionalResponse"},"decision_frame":{"$ref":"#/components/schemas/api__psychology_engine__DecisionFrame"},"trust_dynamics":{"$ref":"#/components/schemas/api__psychology_engine__TrustDynamics"},"motivation_style":{"$ref":"#/components/schemas/api__psychology_engine__MotivationStyle"},"cognitive_load":{"$ref":"#/components/schemas/CognitiveLoad"},"behavioral_prediction":{"$ref":"#/components/schemas/api__psychology_engine__BehavioralPrediction"},"attention_map":{"$ref":"#/components/schemas/api__psychology_engine__AttentionMap"},"emotional_triggers":{"$ref":"#/components/schemas/api__psychology_engine__EmotionalTriggers"},"memory_activation":{"$ref":"#/components/schemas/api__psychology_engine__MemoryActivation"},"risk_perception":{"$ref":"#/components/schemas/api__psychology_engine__RiskPerception"},"cta_match":{"$ref":"#/components/schemas/api__psychology_engine__CTAMatch"}},"type":"object","required":["personality_activation","cognitive_style","emotional_response","decision_frame","trust_dynamics","motivation_style","cognitive_load","behavioral_prediction","attention_map","emotional_triggers","memory_activation","risk_perception","cta_match"],"title":"AdvancedPsychologicalView"},"AnalyzeUrlHumanRequest":{"properties":{"url":{"type":"string","title":"Url"},"goal":{"anyOf":[{"type":"string","enum":["leads","sales","booking","contact","subscribe","other"]},{"type":"null"}],"title":"Goal","default":"other"},"locale":{"anyOf":[{"type":"string","enum":["fa","en","tr"]},{"type":"null"}],"title":"Locale","default":"en"}},"type":"object","required":["url"],"title":"AnalyzeUrlHumanRequest","description":"Request model for human URL analysis."},"BehaviorDiagnosis":{"properties":{"overall_readiness":{"type":"string","enum":["high","medium","low"],"title":"Overall Readiness","description":"Overall conversion readiness assessment."},"summary_sentence":{"type":"string","title":"Summary Sentence","description":"One sentence summary including at least one weakness if not 'high'."},"strongest_driver":{"$ref":"#/components/schemas/BehaviorFactorScore","description":"The factor that most strongly drives conversion."},"primary_blocker":{"$ref":"#/components/schemas/BehaviorFactorScore","description":"The factor that most blocks conversion."},"hidden_risk":{"anyOf":[{"$ref":"#/components/schemas/BehaviorFactorScore"},{"type":"null"}],"description":"Optional hidden risk factor (risk/trust/memorability < 60)."},"quick_win":{"anyOf":[{"$ref":"#/components/schemas/BehaviorFactorScore"},{"type":"null"}],"description":"Optional quick win opportunity (score 50-70, high impact factor)."}},"type":"object","required":["overall_readiness","summary_sentence","strongest_driver","primary_blocker"],"title":"BehaviorDiagnosis","description":"Diagnosis derived from the 7 behavioral factors."},"BehaviorFactorScore":{"properties":{"name":{"type":"string","enum":["clarity","trust","cognitive_effort","motivation","risk","memorability","decision_simplicity"],"title":"Name","description":"Name of the behavioral factor."},"score":{"type":"number","maximum":100.0,"minimum":0.0,"title":"Score","description":"Score from 0-100."},"level":{"type":"string","enum":["low","medium","high"],"title":"Level","description":"Level based on score."},"short_reason":{"type":"string","title":"Short Reason","description":"One sentence reason, decision-focused."}},"type":"object","required":["name","score","level","short_reason"],"title":"BehaviorFactorScore","description":"Score for a single behavioral factor."},"BehaviorRecommendation":{"properties":{"title":{"type":"string","title":"Title","description":"Short imperative title (e.g., 'Strengthen trust signals')."},"description":{"type":"string","title":"Description","description":"One sentence: what to change + why it matters."},"target_factors":{"items":{"type":"string","enum":["clarity","trust","cognitive_effort","motivation","risk","memorability","decision_simplicity"]},"type":"array","title":"Target Factors","description":"List of behavioral factors this recommendation targets."}},"type":"object","required":["title","description","target_factors"],"title":"BehaviorRecommendation","description":"A single behavioral recommendation."},"BehaviorRecommendationSet":{"properties":{"primary":{"$ref":"#/components/schemas/BehaviorRecommendation","description":"Primary recommendation targeting the main blocker."},"secondary":{"items":{"$ref":"#/components/schemas/BehaviorRecommendation"},"type":"array","title":"Secondary","description":"Secondary recommendations (0-2 items, from hidden_risk and quick_win)."}},"type":"object","required":["primary"],"title":"BehaviorRecommendationSet","description":"Set of behavioral recommendations."},"Body_analyze_image_api_analyze_image_trust__post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_analyze_image_api_analyze_image_trust__post"},"Body_analyze_image_api_analyze_image_trust_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_analyze_image_api_analyze_image_trust_post"},"Body_analyze_image_human_api_analyze_image_human_post":{"properties":{"image":{"type":"string","format":"binary","title":"Image"},"goal":{"type":"string","title":"Goal","default":"leads"}},"type":"object","required":["image"],"title":"Body_analyze_image_human_api_analyze_image_human_post"},"Body_analyze_image_trust_vision_api_analyze_image_trust_vision__post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_analyze_image_trust_vision_api_analyze_image_trust_vision__post"},"Body_analyze_image_trust_vision_api_analyze_image_trust_vision_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_analyze_image_trust_vision_api_analyze_image_trust_vision_post"},"Body_analyze_text_human_api_analyze_text_human_post":{"properties":{"text":{"type":"string","title":"Text"},"goal":{"type":"string","title":"Goal","default":"leads"}},"type":"object","required":["text"],"title":"Body_analyze_text_human_api_analyze_text_human_post"},"Body_analyze_with_image_api_brain_analyze_with_image_post":{"properties":{"text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Text","description":"Ad or landing page text to analyze (optional if image is provided)"},"image":{"anyOf":[{"type":"string","format":"binary"},{"type":"null"}],"title":"Image","description":"Optional image file for visual trust analysis"}},"type":"object","title":"Body_analyze_with_image_api_brain_analyze_with_image_post"},"Body_brain_endpoint_api_brain_post":{"properties":{"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content"},"image":{"anyOf":[{"type":"string","format":"binary"},{"type":"null"}],"title":"Image"}},"type":"object","title":"Body_brain_endpoint_api_brain_post"},"Body_brain_test_api_brain_test_post":{"properties":{"content":{"type":"string","title":"Content","default":""},"image":{"anyOf":[{"type":"string","format":"binary"},{"type":"null"}],"title":"Image"}},"type":"object","title":"Body_brain_test_api_brain_test_post"},"Body_cognitive_friction_endpoint_api_brain_cognitive_friction_post":{"properties":{"raw_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Raw Text"},"platform":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Platform"},"goal":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Goal"},"audience":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Audience"},"language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Language"},"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url"},"image":{"anyOf":[{"type":"string","format":"binary"},{"type":"null"}],"title":"Image"},"use_trained_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Use Trained Model"}},"type":"object","title":"Body_cognitive_friction_endpoint_api_brain_cognitive_friction_post"},"Body_image_trust_local_api_analyze_image_trust_local_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_image_trust_local_api_analyze_image_trust_local_post"},"Body_psychology_analysis_with_image_api_brain_psychology_analysis_with_image_post":{"properties":{"text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Text","description":"Ad or landing page text to analyze (optional if image is provided)"},"image":{"anyOf":[{"type":"string","format":"binary"},{"type":"null"}],"title":"Image","description":"Optional image file for visual trust analysis"}},"type":"object","title":"Body_psychology_analysis_with_image_api_brain_psychology_analysis_with_image_post"},"Body_upload_labeled_image_api_dataset_upload_image_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"},"trust_label":{"type":"string","title":"Trust Label","description":"One of: \"high\", \"medium\", \"low\""}},"type":"object","required":["file","trust_label"],"title":"Body_upload_labeled_image_api_dataset_upload_image_post"},"ChatRequest":{"properties":{"message":{"type":"string","title":"Message"},"model":{"type":"string","title":"Model","default":"gpt-4o-mini"},"temperature":{"type":"number","title":"Temperature","default":0.7}},"type":"object","required":["message"],"title":"ChatRequest"},"ChatResponse":{"properties":{"response":{"type":"string","title":"Response"},"model":{"type":"string","title":"Model"}},"type":"object","required":["response","model"],"title":"ChatResponse"},"CognitiveFrictionInput":{"properties":{"raw_text":{"type":"string","title":"Raw Text","description":"Marketing copy or landing page text to analyze. Can be empty if an image is provided.","default":""},"platform":{"type":"string","enum":["landing_page","social_post","ad","sales_page","lead_magnet","engagement"],"title":"Platform","description":"Content platform/category.","default":"landing_page"},"goal":{"items":{"type":"string"},"type":"array","title":"Goal","description":"List of marketing goals such as leads, clicks, or sales."},"audience":{"type":"string","title":"Audience","description":"Audience type (cold, warm, retargeting, etc.).","default":"cold"},"language":{"type":"string","title":"Language","description":"Language/locale hint for the analysis.","default":"en"},"meta":{"additionalProperties":true,"type":"object","title":"Meta","description":"Optional metadata bag for future extensibility."},"image":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image","description":"Optional base64-encoded image screenshot for visual trust analysis."},"image_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image Type","description":"Optional MIME type for the uploaded image."},"image_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image Name","description":"Optional original filename for the uploaded image."},"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url","description":"Optional URL to analyze. If provided and raw_text is empty, the page will be scraped."},"business_type":{"anyOf":[{"type":"string","enum":["SaaS","Ecommerce","Clinic / Healthcare","Service Business","Info Product / Education","Marketplace","Other"]},{"type":"null"}],"title":"Business Type","description":"Business type (required for context-aware analysis)."},"price_level":{"anyOf":[{"type":"string","enum":["Low (Impulse)","Medium (Considered)","High (High-risk)"]},{"type":"null"}],"title":"Price Level","description":"Price level (required for context-aware analysis)."},"decision_depth":{"anyOf":[{"type":"string","enum":["Impulse","Considered","High-Commitment"]},{"type":"null"}],"title":"Decision Depth","description":"Decision depth (required for context-aware analysis)."},"user_intent_stage":{"anyOf":[{"type":"string","enum":["Learn","Compare","Validate","Buy"]},{"type":"null"}],"title":"User Intent Stage","description":"User intent stage (required or inferred)."},"relationship_state":{"anyOf":[{"type":"string","enum":["First-time visitor","Returning visitor","Familiar / Brand-aware"]},{"type":"null"}],"title":"Relationship State","description":"Relationship state (optional but powerful for context)."}},"type":"object","title":"CognitiveFrictionInput","description":"Input schema for cognitive friction analysis."},"CognitiveFrictionResult":{"properties":{"frictionScore":{"type":"number","maximum":100.0,"minimum":0.0,"title":"Frictionscore"},"trustScore":{"type":"number","maximum":100.0,"minimum":0.0,"title":"Trustscore"},"emotionalClarityScore":{"type":"number","maximum":100.0,"minimum":0.0,"title":"Emotionalclarityscore"},"motivationMatchScore":{"type":"number","maximum":100.0,"minimum":0.0,"title":"Motivationmatchscore"},"decisionProbability":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Decisionprobability"},"conversionLiftEstimate":{"type":"number","maximum":100.0,"minimum":-100.0,"title":"Conversionliftestimate"},"keyDecisionBlockers":{"items":{"type":"string"},"type":"array","title":"Keydecisionblockers"},"emotionalResistanceFactors":{"items":{"type":"string"},"type":"array","title":"Emotionalresistancefactors"},"cognitiveOverloadFactors":{"items":{"type":"string"},"type":"array","title":"Cognitiveoverloadfactors"},"trustBreakpoints":{"items":{"type":"string"},"type":"array","title":"Trustbreakpoints"},"motivationMisalignments":{"items":{"type":"string"},"type":"array","title":"Motivationmisalignments"},"recommendedQuickWins":{"items":{"type":"string"},"type":"array","title":"Recommendedquickwins"},"recommendedDeepChanges":{"items":{"type":"string"},"type":"array","title":"Recommendeddeepchanges"},"explanationSummary":{"type":"string","title":"Explanationsummary","description":"3-6 sentence natural language explanation summarizing the findings."},"psychology_dashboard":{"anyOf":[{"$ref":"#/components/schemas/PsychologyDashboard"},{"type":"null"}],"description":"Optional 13-pillar psychology dashboard payload."},"psychology":{"anyOf":[{"$ref":"#/components/schemas/PsychologyAnalysisResult"},{"type":"null"}],"description":"Optional advanced psychology payload injected by main API layer."},"raw_model_output":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Raw Model Output","description":"Raw JSON string returned by the AI model (for debugging)."},"metadata":{"additionalProperties":true,"type":"object","title":"Metadata","description":"Additional diagnostic metadata (model name, timings, etc.)."},"primary_diagnosis":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Primary Diagnosis","description":"Primary diagnosis sentence focused on psychological root cause."},"executive_decision_summary":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Executive Decision Summary","description":"Executive decision summary with primary_outcome, confidence, decision_stage, and summary."},"decision_failure_breakdown":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Decision Failure Breakdown","description":"Decision failure breakdown with primary_outcome, confidence, and reasons."},"page_structure":{"anyOf":[{"$ref":"#/components/schemas/PageStructure"},{"type":"null"}],"description":"Structured reconstruction of the landing page layout."},"decision_blockers":{"additionalProperties":{"items":{"$ref":"#/components/schemas/DecisionBlockerItem"},"type":"array"},"type":"object","title":"Decision Blockers","description":"Structured blockers grouped by pillar bucket."},"ai_recommendations":{"additionalProperties":{"items":{"$ref":"#/components/schemas/AIRecommendationItem"},"type":"array"},"type":"object","title":"Ai Recommendations","description":"Structured recommendations grouped by priority buckets."},"visual_trust_analysis":{"anyOf":[{"$ref":"#/components/schemas/VisualTrustAnalysis"},{"type":"null"}],"description":"Structured visual trust evaluation for accompanying imagery (legacy format)."},"visual_trust":{"anyOf":[{"$ref":"#/components/schemas/VisualTrustResult"},{"type":"null"}],"description":"Unified visual trust result with explicit status (ok/fallback/unavailable). Always set when image is provided."},"psychology_narrative":{"anyOf":[{"$ref":"#/components/schemas/PsychologyNarrative"},{"type":"null"}],"description":"Human-readable psychology narrative (analysis + interpretation)."},"visual_textual_psychology_analysis":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Visual Textual Psychology Analysis","description":"Per-element visual/textual analysis map (when provided)."},"visual_trust_score":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Visual Trust Score","description":"Optional numeric trust score from the visual trust engine (0-100)."},"behavior_factors":{"anyOf":[{"items":{"$ref":"#/components/schemas/BehaviorFactorScore"},"type":"array"},{"type":"null"}],"title":"Behavior Factors","description":"7-factor behavioral scores (clarity, trust, cognitive_effort, motivation, risk, memorability, decision_simplicity)."},"behavior_diagnosis":{"anyOf":[{"$ref":"#/components/schemas/BehaviorDiagnosis"},{"type":"null"}],"description":"Behavioral diagnosis derived from the 7 factors (readiness, driver, blocker, risks)."},"behavior_recommendations":{"anyOf":[{"$ref":"#/components/schemas/BehaviorRecommendationSet"},{"type":"null"}],"description":"Behavioral recommendations (primary + secondary) targeting the main blockers."},"next_better_actions":{"items":{"$ref":"#/components/schemas/NextBetterAction"},"type":"array","title":"Next Better Actions","description":"3-5 concrete, actionable improvement recommendations with specific examples and priorities."}},"type":"object","required":["frictionScore","trustScore","emotionalClarityScore","motivationMatchScore","decisionProbability","conversionLiftEstimate","explanationSummary"],"title":"CognitiveFrictionResult","description":"Structured result returned by the cognitive friction engine.\n\nThis matches the schema consumed by the web dashboard as well as the shared\nTypeScript definitions in `web/types-generated.js`."},"CognitiveLoad":{"properties":{"clarity":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Clarity"},"overload":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Overload"},"ambiguity":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Ambiguity"},"narrative":{"type":"string","title":"Narrative"}},"type":"object","required":["clarity","overload","ambiguity","narrative"],"title":"CognitiveLoad"},"CognitiveLoadProfile":{"properties":{"clarity_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Clarity Score"},"overload_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Overload Score"},"ambiguity_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Ambiguity Score"}},"type":"object","required":["clarity_score","overload_score","ambiguity_score"],"title":"CognitiveLoadProfile"},"DebugScreenshotIn":{"properties":{"url":{"type":"string","title":"Url"}},"type":"object","required":["url"],"title":"DebugScreenshotIn"},"DecisionBlockerItem":{"properties":{"element":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Element","description":"Which element triggers the issue."},"issue":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Issue","description":"Description of the friction."},"psychological_impact":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Psychological Impact","description":"Why the issue matters psychologically."},"evidence":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Evidence","description":"Optional snippet or observation from the page."}},"type":"object","title":"DecisionBlockerItem","description":"Structured blocker item referencing a specific UI element."},"DecisionEngineInput":{"properties":{"content":{"type":"string","title":"Content","description":"Landing page content (text, HTML, or URL)"},"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url","description":"Optional URL if content is not provided"},"channel":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Channel","description":"Channel type: 'generic_saas' or 'marketplace_product'. Auto-detected from URL if not provided.","default":"generic_saas"}},"type":"object","required":["content"],"title":"DecisionEngineInput","description":"Input for Decision Engine v1"},"DecisionScanRequest":{"properties":{"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url","description":"URL to analyze"},"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content","description":"Content text to analyze"},"goal":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Goal","description":"Analysis goal"},"landing_features":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Landing Features","description":"Landing page features"},"ad_copy":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ad Copy","description":"Ad copy text"},"ad_headline":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ad Headline","description":"Ad headline"},"pricing_html":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pricing Html","description":"Pricing page HTML"},"pricing_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pricing Text","description":"Pricing page text"}},"type":"object","title":"DecisionScanRequest","description":"Request for decision scan (evidence-based analysis)"},"DecisionScanResponse":{"properties":{"status":{"type":"string","enum":["ok","error"],"title":"Status"},"decision_state":{"anyOf":[{"$ref":"#/components/schemas/DecisionState"},{"type":"null"}]},"human_report":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Human Report"},"summary":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Summary"},"issues":{"anyOf":[{"items":{"$ref":"#/components/schemas/Issue"},"type":"array"},{"type":"null"}],"title":"Issues"},"screenshots":{"anyOf":[{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"null"}]},"type":"object"},{"type":"null"}],"title":"Screenshots"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","required":["status"],"title":"DecisionScanResponse","description":"Response model for decision scan"},"DecisionState":{"properties":{"label":{"type":"string","title":"Label"},"confidence":{"type":"string","enum":["low","medium","high"],"title":"Confidence"},"evidence":{"items":{"type":"string"},"type":"array","title":"Evidence"}},"type":"object","required":["label","confidence","evidence"],"title":"DecisionState","description":"Decision state model"},"EvidenceExtractionRequest":{"properties":{"landing_features":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Landing Features","description":"Landing page features (PageFeatures dict)"},"ad_evidence":{"anyOf":[{"$ref":"#/components/schemas/AdEvidenceInput"},{"type":"null"}],"description":"Ad evidence"},"pricing_evidence":{"anyOf":[{"$ref":"#/components/schemas/PricingEvidenceInput"},{"type":"null"}],"description":"Pricing evidence"}},"type":"object","title":"EvidenceExtractionRequest","description":"Request for evidence extraction"},"ExplainRequest":{"properties":{"diagnosis":{"additionalProperties":true,"type":"object","title":"Diagnosis","description":"Diagnosis response from /analyze-url or subset"},"audience":{"type":"string","enum":["ceo","marketer","ux"],"title":"Audience","description":"Target audience for explanation","default":"marketer"},"language":{"type":"string","enum":["en","fa"],"title":"Language","description":"Output language","default":"en"}},"type":"object","required":["diagnosis"],"title":"ExplainRequest","description":"Request model for explanation endpoint."},"ExplainResponse":{"properties":{"analysisStatus":{"type":"string","enum":["ok","error"],"title":"Analysisstatus","description":"Status of the explanation"},"summary":{"type":"string","title":"Summary","description":"6-8 lines client-ready summary"},"why_users_hesitate":{"type":"string","title":"Why Users Hesitate","description":"2-4 sentences explaining why users hesitate"},"top_actions":{"items":{"$ref":"#/components/schemas/TopAction"},"type":"array","title":"Top Actions","description":"Top actionable recommendations"},"risk_reversal_copy":{"type":"string","title":"Risk Reversal Copy","description":"Short guarantee/reassurance text"},"disclaimer":{"type":"string","title":"Disclaimer","description":"Disclaimer about validation"}},"type":"object","required":["analysisStatus","summary","why_users_hesitate","top_actions","risk_reversal_copy","disclaimer"],"title":"ExplainResponse","description":"Response model for explanation endpoint."},"FeedbackRequest":{"properties":{"analysis_id":{"type":"integer","title":"Analysis Id","description":"ID returned from /api/analyze/url-human"},"label":{"type":"string","pattern":"^(accurate|partial|wrong)$","title":"Label"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"wrong_issues":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Wrong Issues"}},"type":"object","required":["analysis_id","label"],"title":"FeedbackRequest"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"Issue":{"properties":{"title":{"type":"string","title":"Title"},"why":{"type":"string","title":"Why"},"fix":{"type":"string","title":"Fix"},"location":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location"}},"type":"object","required":["title","why","fix"],"title":"Issue","description":"Issue model"},"MetaFeatures":{"properties":{"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url"},"timestamp":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Timestamp"},"screenshot_bytes":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Screenshot Bytes"}},"type":"object","title":"MetaFeatures"},"NextBetterAction":{"properties":{"id":{"type":"integer","title":"Id","description":"Unique identifier for this action."},"title":{"type":"string","title":"Title","description":"Short, descriptive title (e.g., 'Fix the hero title specificity')."},"target_section":{"type":"string","title":"Target Section","description":"Specific section/element name (e.g., 'hero_title', 'primary_cta', 'social_proof', 'form')."},"psychology_label":{"type":"string","title":"Psychology Label","description":"Psychological category label (e.g., 'Trust Gap  No Proof', 'Cognitive Friction  Ambiguity')."},"problem_summary":{"type":"string","title":"Problem Summary","description":"1-2 sentences explaining the exact problem."},"suggested_change":{"type":"string","title":"Suggested Change","description":"Concrete suggestion with example copy or structural change."},"impact_score":{"type":"integer","maximum":100.0,"minimum":1.0,"title":"Impact Score","description":"Expected impact on conversion (1-100)."},"difficulty":{"type":"integer","maximum":5.0,"minimum":1.0,"title":"Difficulty","description":"Implementation difficulty (1=easy, 5=hard)."},"priority_rank":{"type":"integer","minimum":1.0,"title":"Priority Rank","description":"Priority order (1 = highest priority, should be done first)."}},"type":"object","required":["id","title","target_section","psychology_label","problem_summary","suggested_change","impact_score","difficulty","priority_rank"],"title":"NextBetterAction","description":"A concrete, actionable improvement recommendation for the landing page."},"PageFeatures":{"properties":{"featuresSchemaVersion":{"type":"string","title":"Featuresschemaversion","default":"1.0"},"visual":{"$ref":"#/components/schemas/VisualFeatures"},"text":{"$ref":"#/components/schemas/TextFeatures"},"meta":{"$ref":"#/components/schemas/MetaFeatures"}},"additionalProperties":true,"type":"object","required":["visual","text","meta"],"title":"PageFeatures"},"PageStructure":{"properties":{"nav_bar":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nav Bar","description":"Navigation menu summary."},"hero_title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Hero Title","description":"Primary hero headline."},"hero_subtitle":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Hero Subtitle","description":"Hero sub-headline or supporting line."},"hero_image":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Hero Image","description":"Description of the main hero image."},"hero_video":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Hero Video","description":"Description of hero video if present."},"primary_cta":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Primary Cta","description":"Primary call-to-action label/placement."},"secondary_cta":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Secondary Cta","description":"Secondary CTA label/placement."},"trust_badges":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Trust Badges","description":"Logos, certifications, or guarantees."},"social_proof_section":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Social Proof Section","description":"Testimonials or case studies summary."},"benefits_section":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Benefits Section","description":"Benefits/features section summary."},"pricing_section":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pricing Section","description":"Pricing cards/plan summary."},"form_area":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Form Area","description":"Lead form / signup module description."},"footer_legal":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Footer Legal","description":"Legal/footer context."},"extra_sections":{"additionalProperties":{"type":"string"},"type":"object","title":"Extra Sections","description":"Any additional sections that are not explicitly modeled."}},"type":"object","title":"PageStructure","description":"Structured reconstruction of the landing page layout."},"PricingEvidenceInput":{"properties":{"html":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Html","description":"Pricing page HTML"},"text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Text","description":"Pricing page text"}},"type":"object","title":"PricingEvidenceInput","description":"Input for pricing evidence extraction"},"PsychologyAnalysisInput":{"properties":{"raw_text":{"type":"string","title":"Raw Text","description":"The content/text to analyze"},"platform":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Platform","description":"Platform type: landing_page, instagram, linkedin, email, etc.","default":"general"},"goal":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Goal","description":"Goals: clicks, leads, sales, engagement, etc.","default":["conversion"]},"audience":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Audience","description":"Audience type: cold, warm, retargeting, etc.","default":"general"},"language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Language","description":"Language code: en, tr, fa, etc.","default":"en"},"meta":{"anyOf":[{},{"type":"null"}],"title":"Meta","description":"Optional metadata"}},"type":"object","required":["raw_text"],"title":"PsychologyAnalysisInput","description":"Input schema for psychology analysis"},"PsychologyAnalysisResult":{"properties":{"analysis":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Analysis","description":"Analysis of all 13 pillars (null if input invalid)"},"overall":{"additionalProperties":true,"type":"object","title":"Overall","description":"Overall summary and recommendations"},"human_readable_report":{"type":"string","title":"Human Readable Report","description":"Human-readable psychology report","default":""},"advanced_view":{"anyOf":[{"$ref":"#/components/schemas/AdvancedPsychologicalView"},{"type":"null"}],"description":"Advanced 13-dimension psychological profile aligned with the dashboard."}},"type":"object","title":"PsychologyAnalysisResult","description":"Complete psychology analysis result"},"PsychologyDashboard":{"properties":{"personality_activation":{"$ref":"#/components/schemas/api__models__psychology_dashboard__PersonalityActivation"},"cognitive_style":{"$ref":"#/components/schemas/api__models__psychology_dashboard__CognitiveStyle"},"emotional_response":{"$ref":"#/components/schemas/api__models__psychology_dashboard__EmotionalResponse"},"decision_frame":{"$ref":"#/components/schemas/api__models__psychology_dashboard__DecisionFrame"},"trust_dynamics":{"$ref":"#/components/schemas/api__models__psychology_dashboard__TrustDynamics"},"motivation_style":{"$ref":"#/components/schemas/api__models__psychology_dashboard__MotivationStyle"},"cognitive_load":{"$ref":"#/components/schemas/CognitiveLoadProfile"},"behavioral_prediction":{"$ref":"#/components/schemas/api__models__psychology_dashboard__BehavioralPrediction"},"attention_map":{"$ref":"#/components/schemas/api__models__psychology_dashboard__AttentionMap"},"emotional_triggers":{"$ref":"#/components/schemas/api__models__psychology_dashboard__EmotionalTriggers"},"memory_activation":{"$ref":"#/components/schemas/api__models__psychology_dashboard__MemoryActivation"},"risk_perception":{"$ref":"#/components/schemas/api__models__psychology_dashboard__RiskPerception"},"cta_match":{"$ref":"#/components/schemas/api__models__psychology_dashboard__CTAMatch"}},"type":"object","required":["personality_activation","cognitive_style","emotional_response","decision_frame","trust_dynamics","motivation_style","cognitive_load","behavioral_prediction","attention_map","emotional_triggers","memory_activation","risk_perception","cta_match"],"title":"PsychologyDashboard"},"PsychologyNarrative":{"properties":{"analysis_summary":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Analysis Summary"},"ai_interpretation":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ai Interpretation"}},"type":"object","title":"PsychologyNarrative","description":"Narrative summary + interpretation for decision psychology."},"ReportFromUrlInput":{"properties":{"url":{"type":"string","title":"Url","description":"URL to analyze"},"refresh":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Refresh","description":"Force refresh, bypass cache","default":false},"timeoutSec":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Timeoutsec","description":"HTTP request timeout in seconds","default":45}},"type":"object","required":["url"],"title":"ReportFromUrlInput","description":"Input for report-from-url endpoint"},"RewriteInput":{"properties":{"text":{"type":"string","title":"Text","description":"The original text to rewrite"},"platform":{"type":"string","title":"Platform","description":"Platform: landing_page, instagram, linkedin, email, etc."},"goal":{"items":{"type":"string"},"type":"array","title":"Goal","description":"Goals: clicks, leads, sales, engagement, etc."},"audience":{"type":"string","title":"Audience","description":"Audience type: cold, warm, retargeting, etc."},"language":{"type":"string","title":"Language","description":"Language code: en, tr, fa, etc.","default":"en"}},"type":"object","required":["text","platform","goal","audience"],"title":"RewriteInput","description":"Input schema for text rewrite"},"RewriteOutput":{"properties":{"soft_version":{"type":"string","title":"Soft Version","description":"Soft trust-based version"},"value_version":{"type":"string","title":"Value Version","description":"Value-based version"},"proof_version":{"type":"string","title":"Proof Version","description":"Proof-driven version"},"emotional_version":{"type":"string","title":"Emotional Version","description":"Emotional version"},"direct_version":{"type":"string","title":"Direct Version","description":"High-conversion direct version"},"cta":{"type":"string","title":"Cta","description":"Optimized call-to-action"}},"type":"object","required":["soft_version","value_version","proof_version","emotional_version","direct_version","cta"],"title":"RewriteOutput","description":"Output schema for rewritten text versions"},"TextFeatures":{"properties":{"key_lines":{"items":{"type":"string"},"type":"array","title":"Key Lines","default":[]},"offers":{"items":{"type":"string"},"type":"array","title":"Offers","default":[]},"claims":{"items":{"type":"string"},"type":"array","title":"Claims","default":[]},"risk_reversal":{"items":{"type":"string"},"type":"array","title":"Risk Reversal","default":[]},"audience_clarity":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Audience Clarity"},"cta_copy":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cta Copy"},"pricing_mentions":{"items":{"type":"string"},"type":"array","title":"Pricing Mentions","default":[]},"proof_points":{"items":{"type":"string"},"type":"array","title":"Proof Points","default":[]},"differentiators":{"items":{"type":"string"},"type":"array","title":"Differentiators","default":[]}},"type":"object","title":"TextFeatures"},"TopAction":{"properties":{"title":{"type":"string","title":"Title","description":"Short action title"},"why":{"type":"string","title":"Why","description":"Why this action matters"},"how":{"type":"string","title":"How","description":"How to implement"},"example_copy":{"type":"string","title":"Example Copy","description":"Example copy/text to use"}},"type":"object","required":["title","why","how","example_copy"],"title":"TopAction","description":"A single top action recommendation."},"UrlAnalyzeIn":{"properties":{"url":{"type":"string","title":"Url"},"refresh":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Refresh"}},"type":"object","required":["url"],"title":"UrlAnalyzeIn"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"VisualElement":{"properties":{"id":{"type":"string","title":"Id","description":"Unique identifier for the element (e.g., 'hero_title', 'primary_cta')."},"role":{"type":"string","enum":["logo","headline","subheadline","primary_cta","secondary_cta","benefit_card","testimonial","trust_badge","pricing_block","hero_image","other"],"title":"Role","description":"Type/role of the visual element."},"approx_position":{"type":"string","enum":["top-left","top-center","top-right","middle-left","middle-center","middle-right","bottom-left","bottom-center","bottom-right"],"title":"Approx Position","description":"Approximate position of the element on the page."},"text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Text","description":"Text content of the element (if applicable)."},"visual_cues":{"items":{"type":"string"},"type":"array","title":"Visual Cues","description":"List of visual cues describing the element (colors, size, style, etc.)."},"analysis":{"additionalProperties":true,"type":"object","title":"Analysis","description":"Analysis of the element's impact on clarity, trust, and motivation."}},"type":"object","required":["id","role","approx_position"],"title":"VisualElement","description":"Individual visual element detected in a landing page image."},"VisualFeatures":{"properties":{"hero_headline":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Hero Headline"},"subheadline":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subheadline"},"primary_cta_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Primary Cta Text"},"primary_cta_position":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Primary Cta Position"},"has_pricing":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Has Pricing"},"has_testimonials":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Has Testimonials"},"has_logos":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Has Logos"},"has_guarantee":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Has Guarantee"},"has_faq":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Has Faq"},"has_security_badges":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Has Security Badges"},"visual_clutter_level":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Visual Clutter Level","description":"0..1 where higher = more clutter"},"cta_contrast_level":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Cta Contrast Level","description":"0..1 where higher = better contrast"},"info_hierarchy_quality":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Info Hierarchy Quality","description":"0..1 where higher = clearer hierarchy"},"secondary_cta_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Secondary Cta Text"},"secondary_cta_position":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Secondary Cta Position"},"hero_media_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Hero Media Type"},"color_palette_comment":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Color Palette Comment"},"layout_style":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Layout Style"},"noted_elements":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Noted Elements"}},"type":"object","title":"VisualFeatures"},"VisualTrustAnalysis":{"properties":{"overall_label":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Overall Label","description":"Overall trust classification (Low/Medium/High)."},"low_percent":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Low Percent","description":"Portion of layout perceived as low trust."},"medium_percent":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Medium Percent","description":"Portion of layout perceived as medium trust."},"high_percent":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"High Percent","description":"Portion of layout perceived as high trust."},"explanation":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Explanation","description":"Narrative explanation of the visual trust verdict."},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error","description":"Optional error code/message when visual trust analysis fails."}},"type":"object","title":"VisualTrustAnalysis","description":"Structured visual trust output (legacy format, kept for backward compatibility)."},"VisualTrustResult":{"properties":{"status":{"type":"string","enum":["ok","fallback","unavailable"],"title":"Status","description":"Status of the visual trust analysis: 'ok' (real model result), 'fallback' (estimated), 'unavailable' (not performed)."},"label":{"anyOf":[{"type":"string","enum":["Low","Medium","High"]},{"type":"null"}],"title":"Label","description":"Overall trust label (Low/Medium/High). Only set when status is 'ok' or 'fallback'."},"overall_score":{"anyOf":[{"type":"number","maximum":100.0,"minimum":0.0},{"type":"null"}],"title":"Overall Score","description":"Overall trust score (0-100). Only set when status is 'ok' or 'fallback'."},"distribution":{"anyOf":[{"additionalProperties":{"type":"number"},"type":"object"},{"type":"null"}],"title":"Distribution","description":"Trust distribution percentages: {'low': float, 'medium': float, 'high': float}. Only set when status is 'ok' or 'fallback'."},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes","description":"Optional notes explaining the result, especially for 'fallback' or 'unavailable' status."},"warnings":{"items":{"type":"string"},"type":"array","title":"Warnings","description":"Non-fatal warnings about the analysis (e.g., partial element extraction)."},"elements":{"items":{"$ref":"#/components/schemas/VisualElement"},"type":"array","title":"Elements","description":"List of detected visual elements with their analysis."},"narrative":{"items":{"type":"string"},"type":"array","title":"Narrative","description":"One-sentence insights about the visual trust analysis."}},"type":"object","required":["status"],"title":"VisualTrustResult","description":"Unified visual trust result model used across all endpoints.\n\nThis model provides a consistent structure for visual trust analysis results,\nwith explicit status tracking (ok, fallback, unavailable) to prevent UI inconsistencies."},"api__models__psychology_dashboard__AttentionMap":{"properties":{"hotspots":{"items":{"type":"string"},"type":"array","title":"Hotspots"},"friction_points":{"items":{"type":"string"},"type":"array","title":"Friction Points"}},"type":"object","required":["hotspots","friction_points"],"title":"AttentionMap"},"api__models__psychology_dashboard__BehavioralPrediction":{"properties":{"convert":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Convert"},"hesitate":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Hesitate"},"bounce":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Bounce"},"postpone":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Postpone"},"summary":{"type":"string","title":"Summary"}},"type":"object","required":["convert","hesitate","bounce","postpone","summary"],"title":"BehavioralPrediction"},"api__models__psychology_dashboard__CTAMatch":{"properties":{"fit_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Fit Score"},"clarity":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Clarity"},"motivation_alignment":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Motivation Alignment"},"action_probability":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Action Probability"}},"type":"object","required":["fit_score","clarity","motivation_alignment","action_probability"],"title":"CTAMatch"},"api__models__psychology_dashboard__CognitiveStyle":{"properties":{"type":{"type":"string","enum":["analytical","intuitive","overloaded","mixed"],"title":"Type"},"overload_risk":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Overload Risk"},"ambiguity_aversion":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Ambiguity Aversion"},"explanation":{"type":"string","title":"Explanation"}},"type":"object","required":["type","overload_risk","ambiguity_aversion","explanation"],"title":"CognitiveStyle"},"api__models__psychology_dashboard__DecisionFrame":{"properties":{"mode":{"type":"string","enum":["gain_seeking","loss_avoidance","neutral"],"title":"Mode"},"risk_style":{"type":"string","enum":["risk_averse","risk_taking","moderate"],"title":"Risk Style"},"decision_tendency":{"type":"string","enum":["move_forward","hesitate","postpone","bounce"],"title":"Decision Tendency"},"explanation":{"type":"string","title":"Explanation"}},"type":"object","required":["mode","risk_style","decision_tendency","explanation"],"title":"DecisionFrame"},"api__models__psychology_dashboard__EmotionalResponse":{"properties":{"curiosity":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Curiosity"},"excitement":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Excitement"},"motivation":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Motivation"},"anxiety":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Anxiety"},"confusion":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Confusion"},"trust":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Trust"}},"type":"object","required":["curiosity","excitement","motivation","anxiety","confusion","trust"],"title":"EmotionalResponse"},"api__models__psychology_dashboard__EmotionalTriggers":{"properties":{"activated":{"items":{"type":"string"},"type":"array","title":"Activated"},"missing":{"items":{"type":"string"},"type":"array","title":"Missing"}},"type":"object","required":["activated","missing"],"title":"EmotionalTriggers"},"api__models__psychology_dashboard__MemoryActivation":{"properties":{"semantic":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Semantic"},"emotional":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Emotional"},"pattern":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Pattern"}},"type":"object","required":["semantic","emotional","pattern"],"title":"MemoryActivation"},"api__models__psychology_dashboard__MotivationStyle":{"properties":{"primary":{"type":"string","title":"Primary"},"secondary":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Secondary"},"explanation":{"type":"string","title":"Explanation"}},"type":"object","required":["primary","explanation"],"title":"MotivationStyle"},"api__models__psychology_dashboard__PersonalityActivation":{"properties":{"O":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"O"},"C":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"C"},"E":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"E"},"A":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"A"},"N":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"N"},"dominant_profile":{"type":"string","title":"Dominant Profile"},"explanation":{"type":"string","title":"Explanation"}},"type":"object","required":["O","C","E","A","N","dominant_profile","explanation"],"title":"PersonalityActivation"},"api__models__psychology_dashboard__RiskPerception":{"properties":{"risk_level":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Risk Level"},"uncertainty_points":{"items":{"type":"string"},"type":"array","title":"Uncertainty Points"}},"type":"object","required":["risk_level","uncertainty_points"],"title":"RiskPerception"},"api__models__psychology_dashboard__TrustDynamics":{"properties":{"visual_trust":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Visual Trust"},"institutional_trust":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Institutional Trust"},"social_trust":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Social Trust"},"skepticism":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Skepticism"}},"type":"object","required":["visual_trust","institutional_trust","social_trust","skepticism"],"title":"TrustDynamics"},"api__psychology_engine__AttentionMap":{"properties":{"hotspots":{"items":{"type":"string"},"type":"array","title":"Hotspots"},"friction_points":{"items":{"type":"string"},"type":"array","title":"Friction Points"},"narrative":{"type":"string","title":"Narrative"}},"type":"object","required":["hotspots","friction_points","narrative"],"title":"AttentionMap"},"api__psychology_engine__BehavioralPrediction":{"properties":{"convert":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Convert"},"hesitate":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Hesitate"},"bounce":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Bounce"},"postpone":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Postpone"},"narrative":{"type":"string","title":"Narrative"}},"type":"object","required":["convert","hesitate","bounce","postpone","narrative"],"title":"BehavioralPrediction"},"api__psychology_engine__CTAMatch":{"properties":{"fit_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Fit Score"},"clarity":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Clarity"},"motivation_alignment":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Motivation Alignment"},"narrative":{"type":"string","title":"Narrative"}},"type":"object","required":["fit_score","clarity","motivation_alignment","narrative"],"title":"CTAMatch"},"api__psychology_engine__CognitiveStyle":{"properties":{"style":{"type":"string","title":"Style"},"overload_risk":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Overload Risk"},"ambiguity_aversion":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Ambiguity Aversion"},"description":{"type":"string","title":"Description"}},"type":"object","required":["style","overload_risk","ambiguity_aversion","description"],"title":"CognitiveStyle"},"api__psychology_engine__DecisionFrame":{"properties":{"mode":{"type":"string","enum":["gain_seeking","loss_avoidance","mixed"],"title":"Mode"},"risk_style":{"type":"string","enum":["low","moderate","high"],"title":"Risk Style"},"tendency":{"type":"string","enum":["move_forward","wait_and_see","avoid"],"title":"Tendency"},"description":{"type":"string","title":"Description"}},"type":"object","required":["mode","risk_style","tendency","description"],"title":"DecisionFrame"},"api__psychology_engine__EmotionalResponse":{"properties":{"trust":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Trust"},"curiosity":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Curiosity"},"motivation":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Motivation"},"confusion":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Confusion"},"anxiety":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Anxiety"},"narrative":{"type":"string","title":"Narrative"}},"type":"object","required":["trust","curiosity","motivation","confusion","anxiety","narrative"],"title":"EmotionalResponse"},"api__psychology_engine__EmotionalTriggers":{"properties":{"activated":{"items":{"type":"string"},"type":"array","title":"Activated"},"missing":{"items":{"type":"string"},"type":"array","title":"Missing"},"narrative":{"type":"string","title":"Narrative"}},"type":"object","required":["activated","missing","narrative"],"title":"EmotionalTriggers"},"api__psychology_engine__MemoryActivation":{"properties":{"semantic":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Semantic"},"emotional":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Emotional"},"pattern":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Pattern"},"narrative":{"type":"string","title":"Narrative"}},"type":"object","required":["semantic","emotional","pattern","narrative"],"title":"MemoryActivation"},"api__psychology_engine__MotivationStyle":{"properties":{"primary":{"type":"string","title":"Primary"},"secondary":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Secondary"},"description":{"type":"string","title":"Description"}},"type":"object","required":["primary","description"],"title":"MotivationStyle"},"api__psychology_engine__PersonalityActivation":{"properties":{"openness":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Openness"},"conscientiousness":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Conscientiousness"},"extraversion":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Extraversion"},"agreeableness":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Agreeableness"},"neuroticism":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Neuroticism"},"label":{"type":"string","title":"Label"},"summary":{"type":"string","title":"Summary"}},"type":"object","required":["openness","conscientiousness","extraversion","agreeableness","neuroticism","label","summary"],"title":"PersonalityActivation"},"api__psychology_engine__RiskPerception":{"properties":{"score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Score"},"drivers":{"items":{"type":"string"},"type":"array","title":"Drivers"},"narrative":{"type":"string","title":"Narrative"}},"type":"object","required":["score","drivers","narrative"],"title":"RiskPerception"},"api__psychology_engine__TrustDynamics":{"properties":{"visual":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Visual"},"authority":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Authority"},"social_proof":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Social Proof"},"skepticism":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Skepticism"},"narrative":{"type":"string","title":"Narrative"}},"type":"object","required":["visual","authority","social_proof","skepticism","narrative"],"title":"TrustDynamics"}}}}